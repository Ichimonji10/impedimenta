# /etc/hostapd/hostapd.conf
#
# See:
#
# * /usr/share/doc/hostapd/hostapd.conf
# * http://www.linuxwireless.org/en/users/Documentation/hostapd/
# * https://en.wikipedia.org/wiki/Service_set_(802.11_network)
# * https://en.wikipedia.org/wiki/List_of_WLAN_channels
# * https://wiki.gentoo.org/wiki/Hostapd
# * `iw list`, and `iw dev <ifname> scan` when interface not controlled by
#    hostapd
#
# TODO: Update HT and ACS settings, and see if 40 MHz channels can be used.
#
# This configuration file is a little complicated, as it makes multiple logical
# networks available. Before editing this file, make sure you have a solid
# understanding of hostapd and related concepts. The links above should get you
# started. Especially important are terms like AP, BSS, SSID and BSSID. A brief
# review follows. This review ignores ESSes and ESSIDs.
#
# An AP and all of its associated stations (e.g. laptops, cell phones) form a
# BSS. A BSS is identified by both a BSSID and an SSID. The former is
# machine-readable, the latter is human-readable, and both should be unique
# within a local area. ("local" is somewhat vaguely defined.)
#
# So, how may a single AP advertise multiple networks? By making multiple BSSes
# available. For each BSS that an AP would like to advertise, a BSSID-SSID pair
# must be defined.
#
# This presents a problem. An AP is given a MAC address at the factory. But a
# BSSID is identified by a MAC address, so if an AP is to advertise two or more
# BSSes, then it must have two or more MAC addresses. What MAC addresses may be
# used? And how can hostapd assign them? Well... the exact procedure for
# generating a MAC address for each BSSID is a bit hard to understand. I'm not
# confident in my reading of `/usr/share/doc/hostapd/hostapd.conf`.
#
# One other item of note: "hostapd uses some of the values configured for the
# first BSS as the defaults for the following BSSes. However, it is recommended
# that all BSSes include explicit configuration of all relevant configuration
# items." Global value like the radio channel may be specified just once.

# Define the physical interface used by the AP.
interface=wlp4s0
# Limit the frequencies to those allowed in...
ieee80211d=1
# ...this country.
country_code=US
# "g" simply means 2.4 GHz.
hw_mode=g
# Should 802.11n support be enabled?
ieee80211n=1

# The Atheros wireless card in this system only supports 2.4 GHz frequencies.
# You can verify with `iw phy`. Each ACS (Automatic Channel Selection) scan
# takes ~100ms per channel; it is advisable to leave `acs_num_scans` at its
# default value of 5 if `chanlist=â€¦` is omitted, for the sake of speed. (e.g. 11
# channels * 100ms/channel * 5 == 5.5s)
channel=acs_survey
chanlist=1 6 11
acs_num_scans=10

# First AP. bss=<same as "interface"> bssid=<derived from "interface">
ssid=HouseOfCuddles

# Second AP. bssid=<auto-generated by hostapd>
bss=wlp4s0_secure
ssid=HomeOfCuddles
auth_algs=1
wpa=2
wpa_key_mgmt=WPA-PSK
rsn_pairwise=CCMP
wpa_passphrase={{ hostapd_passphrase }}
