{% extends "mhs/default.html" %}

{% block title %}Find Patient{% endblock %}

{% block navbar %}
    <p id="bread_crumb_nav">
        Welcome, {{ user.first_name }}. Location: <a href="../home/">Home</a> / Find Patient
    </p>
    <p id="logout"><a href="../logout/">Logout</a></p>
{% endblock %}

{% block content %}
    <form method="post">
        <h1>Find Patient</h1>
        {% csrf_token %}
        <label for="id_first_name">First Name:</label>
        <input id="id_first_name" type="search" name="first name" />
        <label for="id_last_name">Last Name:</label>
        <input id="id_last_name" type="search" name="last name" />
        <label for="id_phone_number">Phone Number:</label>
        <input id="id_phone_number" type="search" name="phone number" />
        <label for="id_date_of_birth">Date of Birth</label>
        <input id="id_date_of_birth" type="search" name="date of birth" />
        <label for="id_doctor">Doctor:</label>
        <input id="id_doctor" type="search" name="doctor" />
        <label for="id_insurance_provider">Insurance Provider:</label>
        <input id="id_insurance_provider" type="search" name="insurance provider" />
        <label>&nbsp;</label>
        <input id="submit_form" type="submit" value="Search" />
    </form>
    <table>
        <caption>Hospital patients, past and present</caption>
        <thead>
            <tr>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Phone Number</th>
                <th>Date of Birth</th>
                <th>Doctor</th>
                <th>Insurance Provider</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {% for patient in patients %}
            <tr>
                <td>{{ patient.basic_info.first_name }}</td>
                <td>{{ patient.basic_info.last_name }}</td>
                <td>{{ patient.basic_info.phone_number }}</td>
                <td>{{ patient.birth_date }}</td>
                <td>{{ patient.primary_care_doctor }}</td>
                <td>{{ patient.insurance_provider }}</td>
                <td><a href="../edit_patient_{{ patient.id}}/">Edit</a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
